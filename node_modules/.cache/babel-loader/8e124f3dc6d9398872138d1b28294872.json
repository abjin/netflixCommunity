{"ast":null,"code":"import Cookies from \"universal-cookie\";\nimport axios from \"axios\";\nconst cookie = new Cookies();\nexport const setToken = value => {\n  return cookie.set(\"acsessToken\", value, {\n    path: \"/\",\n    expiresIn: \"15m\"\n  });\n};\nexport const getToken = () => {\n  return cookie.get(\"acsessToken\");\n};\nexport const logout = () => {\n  return cookie.remove(\"acsessToken\");\n};\nexport const isLogin = () => {\n  if (cookie.get(\"acsessToken\")) return true;else return false;\n};\nexport const getUser = async () => {\n  const result = new Promise((resolve, reject) => {\n    axios.get(\"http://localhost:3001/user\", {\n      withCredentials: true\n    }).then(res => {\n      const {\n        email\n      } = res.data;\n      resolve(email);\n    }).catch(err => {\n      console.log(err);\n      reject(\"\");\n    });\n  });\n  return await result;\n};","map":{"version":3,"sources":["/Users/gimgijin/web/netflixCommunity/src/api/user.js"],"names":["Cookies","axios","cookie","setToken","value","set","path","expiresIn","getToken","get","logout","remove","isLogin","getUser","result","Promise","resolve","reject","withCredentials","then","res","email","data","catch","err","console","log"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,kBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,MAAMC,MAAM,GAAG,IAAIF,OAAJ,EAAf;AAEA,OAAO,MAAMG,QAAQ,GAAIC,KAAD,IAAW;AACjC,SAAOF,MAAM,CAACG,GAAP,CAAW,aAAX,EAA0BD,KAA1B,EAAiC;AACtCE,IAAAA,IAAI,EAAE,GADgC;AAEtCC,IAAAA,SAAS,EAAE;AAF2B,GAAjC,CAAP;AAID,CALM;AAMP,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAC5B,SAAON,MAAM,CAACO,GAAP,CAAW,aAAX,CAAP;AACD,CAFM;AAIP,OAAO,MAAMC,MAAM,GAAG,MAAM;AAC1B,SAAOR,MAAM,CAACS,MAAP,CAAc,aAAd,CAAP;AACD,CAFM;AAIP,OAAO,MAAMC,OAAO,GAAG,MAAM;AAC3B,MAAIV,MAAM,CAACO,GAAP,CAAW,aAAX,CAAJ,EAA+B,OAAO,IAAP,CAA/B,KACK,OAAO,KAAP;AACN,CAHM;AAKP,OAAO,MAAMI,OAAO,GAAG,YAAY;AACjC,QAAMC,MAAM,GAAG,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC9ChB,IAAAA,KAAK,CACFQ,GADH,CACO,4BADP,EACqC;AAAES,MAAAA,eAAe,EAAE;AAAnB,KADrC,EAEGC,IAFH,CAESC,GAAD,IAAS;AACb,YAAM;AAAEC,QAAAA;AAAF,UAAYD,GAAG,CAACE,IAAtB;AACAN,MAAAA,OAAO,CAACK,KAAD,CAAP;AACD,KALH,EAMGE,KANH,CAMUC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAP,MAAAA,MAAM,CAAC,EAAD,CAAN;AACD,KATH;AAUD,GAXc,CAAf;AAaA,SAAO,MAAMH,MAAb;AACD,CAfM","sourcesContent":["import Cookies from \"universal-cookie\";\nimport axios from \"axios\";\nconst cookie = new Cookies();\n\nexport const setToken = (value) => {\n  return cookie.set(\"acsessToken\", value, {\n    path: \"/\",\n    expiresIn: \"15m\",\n  });\n};\nexport const getToken = () => {\n  return cookie.get(\"acsessToken\");\n};\n\nexport const logout = () => {\n  return cookie.remove(\"acsessToken\");\n};\n\nexport const isLogin = () => {\n  if (cookie.get(\"acsessToken\")) return true;\n  else return false;\n};\n\nexport const getUser = async () => {\n  const result = new Promise((resolve, reject) => {\n    axios\n      .get(\"http://localhost:3001/user\", { withCredentials: true })\n      .then((res) => {\n        const { email } = res.data;\n        resolve(email);\n      })\n      .catch((err) => {\n        console.log(err);\n        reject(\"\");\n      });\n  });\n\n  return await result;\n};\n"]},"metadata":{},"sourceType":"module"}